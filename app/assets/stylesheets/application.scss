/*
 * This is a manifest file that'll be compiled into application.css, which will include all the files
 * listed below.
 *
 * Any CSS and SCSS file within this directory, lib/assets/stylesheets, vendor/assets/stylesheets,
 * or any plugin's vendor/assets/stylesheets directory can be referenced here using a relative path.
 *
 * You're free to add application-wide styles to this file and they'll appear at the bottom of the
 * compiled file so the styles you add here take precedence over styles defined in any styles
 * defined in the other CSS/SCSS files in this directory. It is generally better to create a new
 * file per style scope.

*= require_tree .
*= require_self

 */

/* Define bootstrap overrides before including library.
 * See https://getbootstrap.com/docs/5.3/customize/sass/
 * This is how to configure Bootstrap 5.3. v6 probably will use sass modules instead
 * and this will break
*/

$pagination-border-radius: 0;
$body-top-padding: 4rem; // equivalent to navbar height
$input-border-radius: 0.25rem !default;
$enable-negative-margins: true;

// Just to add overflow-clip, used in the home page hours column
$utilities: (
  "overflow": (
    property: overflow,
    values: visible hidden clip scroll auto,
  ),
);

@import "./shared/variables";
@import "bootstrap/scss/bootstrap";
@import "flatpickr/dist/flatpickr.min.css";

// Set variables after bootstrap

[data-bs-theme="dark"] {
  .card {
    --bs-card-title-color: white;
    --bs-card-color: white;
  }
  // .btn.btn-primary {
  //    @include button-variant($ceed-maroon, $ceed-maroon);
  // }

  // --bs-link-color: #{$ceed-maroon};
  // --bs-link-color-rgb: #{$ceed-maroon-rgb};
  // --bs-primary-rgb: #{$ceed-maroon-rgb};
  // --bs-primary: #{$ceed-maroon};
}

@import "toastr";
@import "trix";
@import "font-awesome";

html {
  font-size: 90%;
  min-height: 100%;
}

@font-face {
  font-family: "Roboto";
  font-style: normal;
  font-weight: normal;
  font-display: block;
  src: font-url("Roboto-VariableFont_wdth,wght.ttf");
}

body {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  font-family: "Roboto", helvetica, sans-serif;
  main {
    flex: 1;
  }
}

// Default/light mode display
#lightModeIcon {
  display: none;
}

// Dark mode display
[data-bs-theme="dark"] {
  #darkModeIcon {
    display: none;
  }
  #lightModeIcon {
    display: unset;
  }
}

// Don't cover element with header when auto scrolling
// https://css-tricks.com/hash-tag-links-padding/
// Select all elements with an id
*[id] {
  scroll-margin-top: 15rem;
  scroll-snap-margin-top: 15rem; /* iOS 11 and older */
}

h1 {
  font-size: 2.25rem;
}

.dropdown-item {
  &:active {
    color: #000;
    background-color: $primary;
  }
  &:hover {
    color: #fff;
    background-color: $secondary;
    &.dropdown-item-danger {
      color: #fff;
      background-color: var(--bs-danger);
    }
  }

  &.active {
    color: #fff;
    background-color: var(--bs-secondary);
  }

  font-weight: 700; // bold
  color: $secondary;
  &.dropdown-item-danger {
    color: var(--bs-danger);
  }
}

// Stylize the details element as a cleaner accordion. Simpler syntax
details {
  @extend .border;
  @extend .rounded-top;
  @extend .px-3;
}
summary {
  @extend .p-3;
  @extend .mx-n3;
  &:hover,
  &:focus {
    @extend .bg-secondary-subtle;
    transition: background-color 125ms;
  }
  details[open] & {
    @extend .border-bottom;
    @extend .bg-secondary-subtle;
  }
}

// Alternate coloring for tomselect dropdowns
.ts-wrapper .option:nth-child(even) {
  background-color: var(--bs-secondary-bg);
}

// Have to be more specific than tomselect CSS to override it
div.ts-dropdown,
div.ts-control,
div.ts-control input {
  color: unset;
}

// Add the triangle between the menu and the dropdown button
// uses @extend to inherit from .d-none and .d-xl-block
// to hide for screens below xl aka when navbar collapses
// avoids having to have an empty div to every single dropdown
// and add these classes to them. This is globally added to all
// dropdowns sitewide.
// NOTE: the left: 10% could cause issues if the dropdown button
// is too small and might have the connection pointing to thin air.
$dropdown-connection-size: 1rem;
.dropdown-menu:before {
  @extend .d-none;
  @extend .d-xl-block;
  content: "";
  display: block;
  border-left: $dropdown-connection-size solid transparent;
  border-right: $dropdown-connection-size solid transparent;
  border-bottom: $dropdown-connection-size solid;
  border-bottom-color: var(--bs-dropdown-bg);
  position: absolute;
  top: -$dropdown-connection-size;
  left: 10%;
}

.dropdown-menu {
  border-top-color: var(--bs-dropdown-bg);
}

.file-upload-preview-pane {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 0.5rem;
}

.file-upload-item-preview {
  @extend .border;
  @extend .rounded-bottom;
  display: flex;

  flex-direction: column;
  height: 10rem;
  min-width: 0; // For the span text clipping
  background-color: var(--bs-tertiary-bg);

  img,
  .file-upload-preview-failed {
    width: 100%;
    height: 100%;
    object-fit: cover;
    background-color: var(--bs-secondary-bg);
  }
  span {
    font-family: monospace;
    text-align: center;
    text-overflow: ellipsis;
    white-space: nowrap;
    overflow: clip;
  }
  .file-upload-item-delete {
    width: 100%;
    @extend .btn;
    @extend .btn-danger;
    @extend .p-0;
    border-top-right-radius: 0;
    border-top-left-radius: 0;
  }
}

.sort-handle {
  cursor: move;
  cursor: grab;
  &:active {
    cursor: grabbing;
  }
}

.dropdown-menu {
  //border: none;
  border-radius: 4px;
  box-shadow: 4px blur;
  padding-bottom: 0;
}

.nav-item.dropdown .dropdown-toggle-split {
  margin-left: 0;
  padding-left: 0;
  padding-right: 0.75rem;
}

// Hide this element on screens smaller than xl
@include media-breakpoint-down(xl) {
  .hide-on-mobile {
    display: none;
  }
}

h1,
h2,
h3,
h4,
h5,
h6 {
  font-weight: 600;
}

p {
  margin: 0.5rem 0; // !important;
}

a {
  text-decoration: none;
  font-weight: 550; // To make it stand out from the white background
  transition: color 100ms;
  //   &:not(
  //       .btn,
  //       .nav-item,
  //       .nav-link,
  //       .dropdown-item,
  //       .navbar-brand,
  //       .overlay,
  //       .username,
  //       .user_name,
  //       .edit-repo-link,
  //       .certify-button,
  //       .like,
  //       .make
  //     ) {
  //     color: $primary; // !important;
  //   }
  //   &::visited {
  //     color: #789;
  //   }
  //   &:hover {
  //     transition: 100ms linear;
  //     color: #000;
  //   }
}

.btn-primary,
.btn-secondary,
.btn-success,
.btn-danger {
  --bs-btn-color: white;
}

.btn-link {
  text-decoration: none;
}

.tags > a {
  color: #fff !important;
}

u {
  display: inline-block;
  text-decoration: none;
}

// Buttons created with button_to are actually a form tag with a single button inside
// Those don't act normally inside button groups, so try to clean those up a bit
.btn-group {
  // Select all form buttons inside groups
  form.button_to {
    // if form butotn has anything to right
    &:has(+ *) > .btn {
      border-right: 0;
      border-top-right-radius: 0;
      border-bottom-right-radius: 0;
    }
    // if form button has anything to left
    & + * > .btn {
      border-lelft: 0;
      border-top-left-radius: 0;
      border-bottom-left-radius: 0;
    }
  }
}

// These are used everywhere, only reason they're kept as legacy
.x-button {
  color: #af0000;
  font-size: 1.4em;
}
.check-button {
  color: #006200;
  font-size: 1.4em;
}

.youtube-embed {
  width: 100%;
}

:focus {
  outline: -webkit-focus-ring-color auto 1px;
}

a :focus {
  outline-offset: 1px;
}

div.seperator {
  width: 100%;
  padding-top: 20px;
  border-bottom: 1px solid #ddd;
}

span.form-error {
  color: #cd5c5c;
  font-size: 0.8rem;
}

div.form-error {
  color: #cd5c5c;
  font-size: 0.8rem;
}

.main {
  //margin-top: 2rem;
  flex-shrink: 0;
  margin-bottom: auto;
}

@include media-breakpoint-up(md) {
  .jumbotron {
    padding: 4rem 2rem;
  }
}
@include media-breakpoint-down(md) {
  .jumbotron {
    padding: 2rem 1rem;
  }
}

.word-break {
  word-break: break-all;
}

.invalid {
  background-color: #ffdddd;
}
.divider {
  border-top: 1px solid #000;
  width: 100%;
}

// Hiding File button for Trix editor
trix-toolbar .trix-button-group--file-tools {
  display: none;
}

// Can't easily change toolbar icons, so change background color instead
[data-bs-theme="dark"] {
  trix-toolbar button.trix-button {
    background-color: var(--bs-secondary);
  }
}

//Fixing Div bug for Trix editor
.trix-content {
  height: auto;
}

.button-color {
  .btn-primary {
    color: #fff;
  }

  .btn-success {
    color: #fff;
  }

  .btn-info {
    color: #fff;
  }

  .btn-danger {
    color: #fff;
  }
}

.padding {
  padding-left: 20%;
  padding-right: 20%;

  @extend .button-color;
}
.padding-10 {
  padding-left: 10%;
  padding-right: 10%;

  @extend .button-color;
}

.fc th {
  width: inherit;
}

@media (min-width: 1400px) {
  .container {
    max-width: 1140px;
  }
}
.accordion-button {
  background-color: rgba(0, 0, 0, 0.03) !important;
}
input:not(.btn .form-control),
textarea:not(.form-control) {
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
}
.justified-gallery {
  height: 250px;
  overflow-x: scroll;
  overflow-y: hidden;
  white-space: nowrap;
}
.justified-gallery img {
  height: 250px;
  width: auto;
}
.padding-responsive {
  padding-left: 20%;
  padding-right: 20%;
}

@media screen and (max-width: 768px) {
  .padding-responsive {
    padding-left: 20px;
    padding-right: 20px;
  }
}

td > .btn:not(:last-of-type) {
  //margin-bottom: 0.5rem;
}

details {
  border: 1px solid $secondary;
  border-radius: 4px;
  padding: 0.5em 0.5em 0;
  &[open] {
    padding: 0.5em;
  }
}

summary {
  font-weight: bold;
  margin: -0.5em -0.5em 0;
  padding: 0.5em;

  details[open] & {
    border-bottom: 1px solid $secondary;
    margin-bottom: 0.5em;
  }
}

.subtitle {
  font:
    400 0.75rem "Roboto",
    helvetica,
    sans-serif;
  color: #aaa;
  margin-bottom: 0.5rem;
}

.checkbox-lg {
  width: 1.5rem;
  height: 1.5rem;
  margin-right: 1rem;
  margin-top: 0;
}

// The button is annoying on mobile
// .userway_buttons_wrapper {
//   margin-bottom: 5rem;
// }

.selected-shift {
  background-color: rgba(128, 128, 128, 0.3) !important;
  border-color: #ccc !important;
}
