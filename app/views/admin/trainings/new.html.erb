<section>
  <h2 class="text-center fw-bold"><%= t('admin.training.title') %></h2>
  <%= form_for @new_training, url: { controller: 'admin/trainings', action: 'create' } do |f| %>
    <div class="container">
      <div class="row">
        <div class="col-md-12 form-floating mb-2">
          <%= f.text_field :name_en, placeholder: 'Write an unique name...', class: 'form-control', required: true %>
          <%= f.label :name_en, t('admin.training.name_en'), class: 'form-label' %>
        </div>

        <div class="col-md-12 form-floating mb-3">
          <%= f.text_field :name_fr, placeholder: 'Ã‰crire un nom unique...', class: 'form-control', required: true %>
          <%= f.label :name_fr, t('admin.training.name_fr'), class: 'form-label' %>
        </div>

        <p class="fs-3"><%= t('admin.training.spaces') %></p>
        <div class="row row-cols-auto mb-3">
          <%= f.collection_check_boxes(:space_ids, @spaces, :id, :name) do |b| %>
            <div class="form-check-inline">
              <%= b.check_box class: 'form-check-input' %>
              <%= b.label class: 'form-check-label' %>
            </div>
          <% end %>
        </div>

        <div class="col-md-12 form-group">
          <%= f.label :skill_id, t('admin.training.skill'), class: 'form-label' %>
          <%= f.select :skill_id, options_for_select(@skills, selected: f.object.skill_id), { include_blank: false }, { class: 'form-control form-select' } %>
        </div>

        <div class="col-md-12 form-floating my-2">
          <%= f.text_area :description_en, placeholder: 'Write a description...', class: 'form-control', required: true, style: 'min-height: 6em;' %>
          <%= f.label :description_en, t('admin.training.desc_en'), class: 'form-label' %>
        </div>

        <div class="col-md-12 form-floating my-2">
          <%= f.text_area :description_fr, placeholder: 'Write a description...', class: 'form-control', required: true, style: 'min-height: 6em;' %>
          <%= f.label :description_fr, t('admin.training.desc_fr'), class: 'form-label' %>
        </div>

        <div class="mb-3">
            <h4>List of Skills</h4>
              <div id="link-container">
                <% unless @skills_en.nil? %>
                  <% @skills_en.each_with_index do |sk, i| %>
                    <div class="d-flex upload-file-input mb-2 gap-1">
                      <%= text_field_tag 'list_of_skills_en[]', sk, { class: 'form-control', placeholder: 'Enter name (en)...' } %>
                      <%= text_field_tag 'list_of_skills_fr[]', @skills_fr[i], { class: 'form-control', placeholder: 'Enter name (fr)...' } %>
                      <button class="btn btn-danger tr-delete-button ms-2" type="button">
                        <i class="fa fa-trash"></i>
                      </button>
                    </div>
                  <% end %>
                <% end %>
              </div>
              <button type="button" class="btn btn-outline-primary" id="new-sk">New Skill</button>

            
          </div>

        <div class="col-md-12 form-group my-3 text-center">
          <%= f.submit t('admin.training.create'), class: 'btn btn-secondary btn-xl' %>
        </div>
      </div>
    </div>
  <% end %>

  <div class="d-flex upload-file-input mb-2 gap-1" id="new-link-input" style="visibility: hidden;">
      <%= text_field_tag 'list_of_skills_en[]', nil, { class: 'form-control', placeholder: 'Enter name (en)...' } %>
      <%= text_field_tag 'list_of_skills_fr[]', nil, { class: 'form-control', placeholder: 'Enter name (fr)...' } %>
      <button class="btn btn-danger sk-delete-button ms-2" type="button">
        <i class="fa fa-trash"></i>
      </button>
    </div>
</section>
