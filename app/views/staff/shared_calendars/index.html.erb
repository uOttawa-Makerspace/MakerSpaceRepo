<div class="my-5 vh-50">
    <div class="col-md-12">
      <div class="d-flex justify-content-center gap-2">
        <%= form_tag staff_dashboard_change_space_path, method: :put do %>
          <div class="input-group mb-3">
            <%= label_tag :space_id, 'Space', class: 'input-group-text' %>
            <%= select_tag :space_id, options_for_select(@spaces.pluck(:name, :id), selected: @space_id), class: 'form-select' %>
            <%= hidden_field_tag :shifts, true %>
            <button class="btn btn-outline-secondary" type="submit">Go</button>
          </div>
        <% end %>
      </div>


      <script src="https://cdn.jsdelivr.net/npm/add-to-calendar-button@2" async defer></script>


      <div class="py-5" id="cal-container">
        <h2 class="h2 fw-bold mb-3">Subscribe to <%= @spaces.find { |space| space.id == @space_id }&.name %>'s Calendar(s)</h3>
      </div>


      <div id='spinner' class="spinner-border" style="scale: 5; position:absolute; z-index:1000; left:50%; top:50%;" role="status">
        <span class="visually-hidden">Loading...</span>
      </div>
    </div>
  </div>
</div>


<br>


<%= vite_javascript_tag 'staff_shifts' %>